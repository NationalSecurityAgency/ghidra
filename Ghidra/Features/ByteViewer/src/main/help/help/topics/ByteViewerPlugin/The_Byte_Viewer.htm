<!DOCTYPE doctype PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN">
<html>
<head>
  <title>The Byte Viewer</title>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
  <link rel="stylesheet" type="text/css" href="help/shared/DefaultStyle.css">
</head>
<body lang="EN-US">

<h1><a name="ByteViewerPlugin"></a><a name="Bytes"></a>The Byte Viewer</h1>
	<p>The Byte Viewer displays bytes in memory in various formats, e.g.,
	Hex, Characters, Octal, etc. The figure below shows the Byte Viewer
	plugin in a separate window from the 
	<a href="help/topics/Tool/Ghidra_Tool_Administration.htm#DefaultTools">default
	tool</a>, the Code Browser.</p>
	
	<p align="center"><img alt="" src="images/ByteViewer.png" ><br></p>
	
	<p>To show the Byte Viewer, select the icon, <img src="images/binaryData.gif" border="0">,
	on the Code Browser toolbar, OR, choose the <b>Window</b>
	<img src="help/shared/arrow.gif" border="0"> <b>Bytes: ...</b> menu.</p>
	
	<p>The following paragraphs describe the Byte Viewer.</p>

	<h2><a name="ToggleFormatAction"></a><a name="formats"></a>Data Formats</h2>
		<blockquote>
	  		<p>This section describes the formats that Ghidra provides by
			default. Each format is an instance of a DataFormatModel interface,
			so any <a href="#WriteYourOwn">new formats that you provide</a>
			will automatically show up in the <i>Byte Viewer Options</i> dialog that
			lists the data formats that may be added to your view.</p>
			
			<p>To add or remove a data format view from the tool, press the 
			<img alt="" src="images/wrench.png"> icon to bring up the
			<i>Byte Viewer Options</i> dialog. Select the formats that you want and press the
			<b>OK</b> button.</p>
		</blockquote>

		<h3><a name="Hex"></a><a name="Add_Byteviewer_Hex_Panel"></a>Hex</h3>
			<blockquote>
				<p>The <b>Hex</b> view shows each byte as a two character hex value. <a
				 href="#GroupSize">Change the group size</a> for the Hex format to show
				the bytes grouped in that size. When you add the Byte Viewer
				plugin to a tool and then open a program, the Hex view is automatically
				displayed by default.</p>

				<p>This view supports byte <a href="#EditBytes">editing</a>.</p>
			</blockquote>

		<h3><a name="Chars"></a><a name="Add_Byteviewer_Chars_Panel"></a>Chars</h3>
			<blockquote>
				<p>The <b>Chars</b> view shows each byte (or group of bytes) as its equivalent 
				character, using a JVM installed charset.  Typical examples will be US-ASCII
				(1 byte per character), UTF-8 (between 1 and 3 bytes per character), UTF-16
				(typically 2 bytes per character, but can also require 4 bytes for some).</p>
				
				<p>For those bytes that do not encode a valid Unicode character, the view shows
				it as a tic (".").</p>
				
				<p>Some characters, though valid, will not be able to be displayed if the active
				font does not support that character.  Typically these characters are rendered
				as a blank square or some other distinctive shape to indicate the issue.</p>
				
				<p>This view supports byte <a href="#EditBytes">editing</a>.</p>
			</blockquote>

		<h3><a name="Add_Byteviewer_Address_Panel"></a><a name="Address"></a>Address</h3>
			<blockquote>
				<p>The <b>Address</b> view displays a tic (".") for all bytes whose
				formed address does not fall within the range of memory for the
				program. For those addresses that can be formed and are in memory, the
				view shows the symbol, <img src="images/addressMark.png" border="0"> 
				So if you go to that address in the <a
				 href="help/topics/CodeBrowserPlugin/CodeBrowser.htm">Code Browser</a>, and 
				 <a href="help/topics/DataPlugin/Data.htm#Pointer">make a
				Pointer data type</a>, the address pointed to is in memory. Conversely, if
				you go to a "tic" address in the Code Browser and make a pointer, the
				address pointed to is not in memory (the operand is rendered in red).</p>

				<p>This view does not support <a href="#EditBytes">editing</a>.</p>
			</blockquote>

		<h3><a name="Add_Byteviewer_Disassembled_Panel"></a><a name="Disassembled"></a>Disassembled</h3>
			<blockquote>
				<p>The <b>Disassemble</b> view shows a "box"
				(<img src="images/box.gif" border="0" >) symbol
				for each address that has undefined bytes. For those addresses that are
				<a href="help/topics/Glossary/glossary.htm#Instruction">instructions</a> or
				<a href="help/topics/Glossary/glossary.htm#DataItem">defined data</a>, the
				view shows a tic ("."). With this view, you can easily see what areas of the
				program have been disassembled.</p>
				
				<p>This view does not support <a href="#EditBytes">editing</a>.</p>
			</blockquote>

		<h3><a name="Add_Byteviewer_HexShortPanel"></a><a name="HexShort"></a>Hex Short</h3>
			<blockquote>
				<p>This format shows two-byte numbers represented as an four-digit hex number.</p>
				
				<p>This view supports <a href="#EditBytes">editing</a>. When a byte is changed,
				both bytes associated with this address are rendered in
				<font color="#ff0000">red</font> to denote the change.</p>
			</blockquote>

		<h3><a name="Add_Byteviewer_HexInteger_Panel"></a><a name="HexInteger"></a>Hex Integer</h3>
			<blockquote>
				<p>This format shows four-byte numbers represented as an eight-digit hex number.</p>
				
				<p>This view supports <a href="#EditBytes">editing</a>. When a byte
				is changed, all four bytes associated with this address are rendered in
				<font color="#ff0000">red</font> to denote the change.</p>
			</blockquote>

		<h3><a name="Add_Byteviewer_HexLong_Panel"></a><a name="HexLong"></a>Hex Long</h3>
			<blockquote>
				<p>This format shows eight-byte numbers represented as an 16-digit hex number.</p>
				<p>This view supports <a href="#EditBytes">editing</a>. When a byte
				is changed, all eight bytes associated with this address are rendered in
				<font color="#ff0000">red</font> to denote the change.</p>
			</blockquote>

		<h3><a name="Add_Byteviewer_HexLongLong_Panel"></a><a name="HexLongLong"></a>Hex Long Long</h3>
			<blockquote>
				<p>This format shows 16-byte numbers represented as an 32-digit hex number.</p>
				
				<p>This view supports <a href="#EditBytes">editing</a>. When a byte
				is changed, all 16 bytes associated with this address are rendered in
				<font color="#ff0000">red</font> to denote the change.</p>
			</blockquote>

		<h3><a name="Add_Byteviewer_Integer_Panel"></a><a name="Integer"></a>Integer</h3>
			<blockquote>
				<p>This view shows four-byte numbers represented in decimal format.</p>
				
				<p>This view does not support <a href="#EditBytes">editing</a>.</p>
			</blockquote>

		<h3><a name="Octal"></a><a name="Add_Byteviewer_Octal_Panel"></a>Octal </h3>
			<blockquote>
				<p>The octal view shows each byte as a three character octal value.</p>
				
				<p>This view supports <a href="The_Byte_Viewer.htm#EditBytes">editing</a>.</p>
			</blockquote>
		
		<h3><a name="Binary"></a><a name="Add_Byteviewer_Binary_Panel"></a>Binary </h3>
			<blockquote>
				<p>The binary view shows each byte as an eight character binary value.</p>
				
				<p>This view supports <a href="#EditBytes">editing</a>.</p>
			</blockquote>
		</blockquote>

	<h2>Status Fields</h2>
		<blockquote>
			<p>The labels below the scroll pane that contains the views shows the following
			information:</p>
			<div align="left">
			<table border="1" width="65%">
				<tbody>
				<tr>
					<td width="20%">Start</td>
					<td width="80%">The minimum address of Memory</td>
				</tr>
				<tr>
					<td width="20%">End</td>
					<td width="80%">The maximum address of Memory</td>
				</tr>
				<tr>
					<td width="20%"><a name="OffsetField"></a>Offset</td>
					<td width="80%">Displayed in decimal, the
					number of bytes added to each block of memory that is being displayed.
					This number is calculated when you set the <a href="#AlignmentOffset">alignment
					offset</a> or the number of bytes per line.</td>
				</tr>
				<tr>
					<td width="20%">Insertion</td>
					<td width="80%">The address of your current cursor location</td>
				</tr>
				</tbody>
			</table>
			</div>
		</blockquote>

	<h2><a name="Enable_Disable_Byteviewer_Editing"></a><a name="EditBytes"></a>Editing Memory</h2>
		<blockquote>
			<p>To enable byte editing,</p>
			<ol>
				<li>Toggle the Enable/Disable Edit toolbar button
				<img src="images/editbytes.gif" alt="" > so that it appears pushed-in.</li>
				<li>Click in a view that supports editing, e.g., Hex or Chars</li>
				<li>The cursor changes to red to indicate that this view can be edited.</li>
			</ol>
			<p>Changing bytes is allowed only if your cursor is at an address
			that does not contain an instruction. If you attempt to change a byte
			of an instruction, an "editing not allowed" message is displayed in the
			status area of the tool.</p>
		</blockquote>
		<blockquote>
			<p>Changed bytes are rendered in <font color="#ff0000">red</font>.
			This color can be changed via the
			<a href="ByteViewerOptions.htm#EditColorsAndFont">Byte Viewer Edit Options</a>
			by double-clicking on the <i><a href="ByteViewerOptions.htm#EditColor">Edit Color</a></i>
			field.</p>
			
			<p>Undo the edit by hitting the Undo button (<img src="icon.undo" border="0" >) on
			the tool. The byte reverts to its original value. Redo your edit by
			hitting the Redo button (<img src="icon.redo" border="0">).</p>
		</blockquote>

		<blockquote>
			<p>To turn off byte editing, click the Enable/Disable Edit toolbar button
			<img src="images/editbytes.gif" alt=""> so that it no longer appears pushed-in.</p>
			
			<p><img src="help/shared/note.png" border="0">If you have two Byte Viewers running, you can
			<a href="help/topics/FrontEndPlugin/Connecting_Tools.htm#SpecialToolEvent">connect</a>
			the two tools for the "Byte Block Edit" event so that when you make
			changes in one Byte Viewer, the other will reflect those changes in red.</p>
		</blockquote>

	<h2>Cursor Colors</h2>
		<blockquote>
			<p>The format view that currently has focus shows its cursor in <font
			 color="#000000"><B>black</B></font>. (Cursor colors can be changed via the <a
			 href="ByteViewerOptions.htm#EditColorsAndFont">Options</a> dialog) If
			the byte editing is enabled and the view that is in focus supports
			editing, then the cursor is <font color="#ff0000"><b>red</b></font>.</p>
		</blockquote>

	<h2><a name="Byte_Viewer_Options"></a>Byte Viewer Options</h2>
		<blockquote>
			<p>The <i>Byte Viewer Options</i> dialog can be
			used to add and remove views, set the <i>alignment offset</i>, set the number
			of <i>bytes per line</i>, and set the <i>group size</i> to be used by the <i>hex</i>
			view.</p>
			<p>To launch the <i>Byte Viewer Options</i> dialog,
			press the <img alt="" src="images/wrench.png"> icon on the Byte Viewer toolbar.</p>
		</blockquote>

	<div style="text-align: center;"><img alt="" src="images/ByteViewerOptionsDialog.png"><br>
	</div>

	<blockquote>
		<h3>Bytes Per Line</h3>
			<blockquote>
				<p>The bytes per line value indicates how many bytes are displayed in one
				line in a view. The default value is 16.</p>
				
				<p><img src="help/shared/note.png" border="0">
				All formats shown must be able to support the new value.
				For example, since the HexInteger and Integer formats show
				bytes in groups of four, the bytes per line must be a multiple of four.
				If a selected format cannot support a value for the bytes per line, an
				error message will appear and the <b>OK</b> button will be disabled.</p>
			</blockquote>

		<h3><a name="AlignmentOffset"></a><a name="Shift_Alignment_Offset_Right"></a>
			<a name="Shift_Alignment_Offset_Left"></a>Alignment Offset</h3>
			<blockquote>
				<p>The alignment offset controls which bytes should appear in column 0. This enables
				you to view bytes in an offcut manner and to identify patterns in the bytes.
				The offset is displayed as a label below the scroll pane containing the views.</p>
				
				<p><img src="help/shared/tip.png" border="0">Sometimes
				you might see a byte pattern such that you want all the bytes
				to line up in the first column of the display. Consider the cursor position in the
				image below:</p>
		
				<p align="center"><img src="images/ByteViewerExample.png" border="0"></p>
		
				<p>If you want the fourth column of bytes (values of 00) to appear in 
				the first column, you need to decrease the alignment offset by 3, either by using
				the <b>Shift Bytes Left</b> popup action (or hitting <b>Ctrl+Comma</b>) a few times,
				or by changing the alignment offset value in the configuration dialog.</p>
		
				<p align="left">The result of setting the alignment offset is shown below.</p>

				<p align="center"><img src="images/ByteViewerResults.png" border="0" ></p>
			</blockquote>

		<h3><a name="GroupSize"></a>Hex Group Size</h3>
			<blockquote>
				<p>The group size is the number of bytes that the Hex view shows as
				a "unit." For example, a group size of two means to show two bytes
				grouped together with no spaces.</p>
			</blockquote>

		<h3><a name="Charset"></a>Charset</h3>
			<blockquote>
				<p>This specifies how bytes are converted into characters.  Typically
				<b>US-ASCII</b> or <b>UTF-8</b> are good choices, but other charsets
				that are installed in your Java JVM will be available also.</p>
				
				<p>Character encoding schemes that use more than 1 byte to encode a
				character are supported, but can produce incorrect values interlaced
				with the actual text characters that should be there, as each byte is treated
				as the starting position of a character, even if it was already 'used' by
				a previous multi-byte character.</p>
				
				<p>For instance, if a sequence of UTF-8 characters are being displayed, and
				some characters take 1 byte while some take 2 or 3, the positions in the
				<b>Chars</b> display grid that are not valid starting locations may display
				garbage, or just a "." dot indicating the byte could not be decoded.</p>
				
				<p>Character encoding schemes that rely on escape sequences to shift between
				code pages will not produce useful values in the <b>Chars</b> display grid as
				each byte (and some number of following bytes) are treated as a unique string
				to decode and will not include any previous escape sequences that would be needed
				to correctly decode the bytes in question.</p>
				
				<p>The available charsets are listed in a dialog that is displayed
				when clicking the <b>"..."</b> browse button.  You can filter by name, sizes,
				supported scripts, etc by using the standard table filter mechanisms.</p>
			</blockquote>

		<h3><a name="CompactCharWidth"></a>Compact Char Width</h3>
			<blockquote>
				<p>This option toggles between wide and narrow display of characters.  If
				displaying ASCII or other Latin alphabet based text, the narrow option should
				be sufficient to be able to see each character.</p>
				
				<p>If displaying data that has non-Latin alphabets (scripts) the wide option
				will prevent characters from overwriting their neighbors.</p>
			</blockquote>
				 
		<h3><a name="WideCharAlignment"></a>Use Char Alignment</h3>
			<blockquote>
				<p>This option will only display characters for fixed-width multi-byte character
				sets (such as UTF-16, UTF-32) starting at aligned offsets, avoiding converting
				bytes sequences that are not aligned with the charset alignment size.</p>
				
				<p>Use the <a href="#AlignmentOffset">alignment offset</a> option to control
				where the starting offset for aligned characters is located.</p>
				
				<p><b>NOTE</b>: UTF-16 is not technically a fixed-width character encoding, as a
				single character may need 2 or 4 bytes to be encoded.  However, it is
				self-synchronizing and the 2nd half of a 4 byte sequence should be ignored and
				rendered as a "." dot.</p>
				
				<p><b>NOTE</b>: An align-able charset needs to be marked with its alignment size in
				the <b>charset_info.json</b> configuration file, and by default only UTF-16 and
				UTF-32 have these values.</p>
			</blockquote>

		<h3>View Selection</h3>
			<blockquote>
				<p>Each potential view is listed as a checkbox. Select the
				checkboxes corresponding to the views to be shown. Red text
				indicates a view cannot be displayed since it doesn't support the
				specified number of bytes per line.</p>
			</blockquote>
	</blockquote>

	<h2>Reorder / Resize Views</h2>
		<blockquote>
			<p>The various views in the ByteViewer can be reordered by dragging
			the view header to the left or right of its current position. The view
			positions are swapped.</p>
			
			<p>The width of each view can also be changed by dragging the separator
			bars in the view header to the left or right. This will resize the view that is to 
			the left of the separator bar.</p>
		</blockquote>

	<h2><a name="WriteYourOwn"></a>Writing Your Own Format Plugin</h2>
		<blockquote>
			<p>To supply your own format to be added to the list of views
			displayed in the Byte Viewer,</p>
			<ol>
				<li>Write an implementation of the <font face="Courier New"
					size="3">ghidra.app.plugin.core.format.DataFormatModel</font> interface,
					which determines the format of how the bytes should be represented.</li>
				<li>Edit your <a href="help/topics/FrontEndPlugin/Edit_Plugin_Path.htm">Plugin
					path</a> to include your class files if you are running Ghidra in production
					mode versus development mode; in development mode, you will have
					to add your class files to your classpath in your development environment.</li>
				<li>Restart Ghidra.</li>
			</ol>
		</blockquote>

	<p class="providedbyplugin">Provided by: <i>Byte Viewer Plugin</i></p>
	<p class="relatedtopic">Related Topics:</p>
	<ul>
		<li><a href="ByteViewerOptions.htm">Byte Viewer Options</a></li>
		<li><a href="help/topics/DataPlugin/Data.htm#Pointer">Pointer data types</a></li>
		<li><a href="help/topics/Charsets/Charsets.htm">Charsets</a></li>
		<li><a href="help/topics/CodeBrowserPlugin/CodeBrowser.htm">Code Browser</a></li>
		<li><a href="help/topics/Tool/Configure_Tool.htm">Configure Tool</a></li>
		<li><a href="help/topics/SelectBlockPlugin/Select_Block_Help.html">Select Bytes</a></li>
	</ul>

	<p></p>

</body>
</html>
